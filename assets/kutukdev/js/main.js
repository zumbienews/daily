function A(t){document.querySelectorAll(".kg-embed-card iframe").forEach(e=>{const o=e.getAttribute("width"),a=e.getAttribute("height");!isNaN(o)&&!isNaN(a)&&(e.classList.add("has-aspect-ratio"),e.style.setProperty("--kutak--aspect-ratio",`${o}/${a}`))})}const v=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));function w(){document.querySelectorAll(".kg-gallery-image img").forEach(n=>{const e=n.closest(".kg-gallery-image"),o=n.getAttribute("width"),a=n.getAttribute("height"),i=o/a;e.style.flex=i+" 1 0%"})}const S=Object.freeze(Object.defineProperty({__proto__:null,default:w},Symbol.toStringTag,{value:"Module"}));function $(t){document.querySelectorAll(".kg-toggle-heading button").forEach(o=>o.addEventListener("click",e,!1));function e(o){const i=o.target.closest(".kg-toggle-card"),l=i.querySelector(".kg-toggle-content"),c=i.getAttribute("data-kg-toggle-state")==="close",u=l.scrollHeight;i.setAttribute("data-kg-toggle-state",c?"opening":"closing"),l.style.setProperty("--kutak--toggle--max-height",`${u}px`),c||setTimeout(()=>{l.style.setProperty("--kutak--toggle--max-height","0px")},10),setTimeout(()=>{i.setAttribute("data-kg-toggle-state",c?"open":"close")},300)}}const k=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"}));function E(){const t=document.querySelector(".pagination-load-more");if(!t)return;const n=t.closest(".pagination"),e=document.querySelector(".posts-feed");t.getAttribute("data-infinite-scroll")==="true"&&new window.IntersectionObserver(l=>{l[0].isIntersecting&&t.click()},{threshold:0,rootMargin:"100%"}).observe(n),t.addEventListener("click",a,!1);function a(i){i.preventDefault();const l=i.currentTarget,c=l.getAttribute("href"),u=l.getAttribute("data-state")==="loading",p={page:parseInt(n.querySelector("[data-pagination-page]").getAttribute("data-pagination-page"),10),pages:parseInt(n.querySelector("[data-pagination-pages]").getAttribute("data-pagination-pages"),10)};u||(p.page++,t.setAttribute("data-state","loading"),window.fetch(c).then(f=>f.text()).then(f=>{const r=new window.DOMParser().parseFromString(f,"text/html"),d=r.querySelectorAll(".posts-feed .post"),g=r.querySelector(".pagination-load-more"),b=r.querySelector(".pagination__info"),h=n.querySelector(".pagination__info");if(d&&(d.forEach((_,H)=>{e.append(_)}),d[0].querySelector(".post-card__media").focus({preventScroll:!0})),g&&p.page!==p.pages){const m=g.getAttribute("href");t.setAttribute("href",m)}else t.remove();n.querySelector(".pagination__container").replaceChild(b,h),t.setAttribute("data-state","initial")}).catch(f=>{console.log(f),t.setAttribute("data-state","error")}))}}const x=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"}));function j(t){document.querySelectorAll(".sharing-buttons [data-social]").forEach(o=>o.addEventListener("click",e));function e(o){const a=o.currentTarget,i=a.getAttribute("data-social"),l=a.getAttribute("href");if(i==="copy-link"){const c=a.getAttribute("data-copy-link");return window.navigator.clipboard.writeText(c).then(()=>{const u=a.querySelector("[role=tooltip]");u.setAttribute("aria-hidden","false"),setTimeout(()=>{u.setAttribute("aria-hidden","true")},2500)}),!1}if(i!=="mail"){o.preventDefault();const c="menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=500,top=40,left=40";window.open(l,"_blank",c)}}}const q=Object.freeze(Object.defineProperty({__proto__:null,default:j},Symbol.toStringTag,{value:"Module"}));function P(t,n){let e=!1;if(t.hasAttribute("data-srcset"))e={src:t.getAttribute("data-src"),srcset:t.getAttribute("data-srcset"),sizes:t.getAttribute("data-sizes")};else if(t.hasAttribute("data-src"))e={src:t.getAttribute("data-src")};else if(t.style.backgroundImage!==""){const a=/url\(\s*(['"]?)(.*?)\1\s*\)/g.exec(t.style.backgroundImage);a&&(e={src:a[2]})}if(e){const o=new window.Image;o.addEventListener("load",()=>{n(t)},!1),e.srcset&&(o.sizes=e.sizes,o.srcset=e.srcset),o.src=e.src}}function O(t,n=100){let e;return(...o)=>{clearTimeout(e),e=setTimeout(()=>{t.apply(this,o)},n)}}function L(){const t=document.querySelector(".site-header"),n=document.querySelector(".site-actions"),e=t.querySelectorAll("[data-site-action-trigger]"),o=n.querySelector("[data-close-site-actions]"),a=t.querySelectorAll("[data-open-submenu]"),i=document.querySelector(".nav-classic");e.forEach(s=>{s.addEventListener("click",l)}),a.forEach(s=>{s.addEventListener("click",p)}),t.querySelectorAll("[data-has-submenu]").forEach(s=>{s.addEventListener("focusout",r=>{r.stopPropagation(),!s.contains(r.relatedTarget)&&window.matchMedia("(min-width: 62.5em)").matches&&(s.querySelector("[aria-expanded]").setAttribute("aria-expanded",!1),s.querySelector("[aria-hidden]").setAttribute("aria-hidden",!0))})}),document.addEventListener("click",s=>{i&&i!==s.target&&!i.contains(s.target)&&f()}),window.addEventListener("resize",O(()=>{window.document.documentElement.style.setProperty("--kutak--dvh",`${window.innerHeight}px`)}));function l(s){const r=s.currentTarget,d=r.getAttribute("data-site-action-trigger"),g=r.getAttribute("aria-expanded")==="true",b=document.getElementById(r.getAttribute("aria-controls"));c(),u(b),g||(document.body.style.overflow="hidden",window.document.documentElement.style.setProperty("--kutak--dvh",`${window.innerHeight}px`),r.setAttribute("aria-expanded",!0),t.setAttribute("data-state",`${d}-opening`),n.style.setProperty("--kutak--site-actions--height",`${b.scrollHeight}px`),t.style.setProperty("--kutak--site-header--offset",`${window.Math.max(0,t.getBoundingClientRect().top)}px`),setTimeout(()=>{t.setAttribute("data-state",`${d}-open`)},150))}function c(){e.forEach(s=>{s.setAttribute("aria-expanded",!1)}),t.removeAttribute("data-state"),document.body.style.overflow=""}o.addEventListener("click",c);function u(s){if(s.apalodiHasLoadedImages)return!1;s.querySelectorAll("[data-src]").forEach(r=>{P(r,()=>{const d=r.getAttribute("data-src");r.style.backgroundImage=`url(${d})`,r.setAttribute("data-loaded",!0)})}),s.apalodiHasLoadedImages=!0}function p(s){const r=s.currentTarget,d=document.getElementById(r.getAttribute("aria-controls")),g=r.closest(".nav-submenu"),b=r.getAttribute("aria-expanded")==="true",h=d.scrollHeight;r.setAttribute("aria-expanded",!b),d.setAttribute("aria-hidden",b),b?d.style.setProperty("--nav-submenu-max-height",0):(g&&g.style.setProperty("--nav-submenu-max-height",g.scrollHeight+h+"px"),d.style.setProperty("--nav-submenu-max-height",h+"px"))}function f(s){a.forEach(r=>{r.setAttribute("aria-expanded",!1),r.nextElementSibling.setAttribute("aria-hidden",!0)})}}const T=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));function M(){const t=document.querySelector(".site-header"),n=window.matchMedia("(min-width: 1000px)");let e=!1;const o=c=>{const u=!c[0].isIntersecting;t.setAttribute("data-is-sticky",u)},a=new window.IntersectionObserver(o,{root:document,threshold:[1]});function i(){e||(a.observe(t),e=!0)}function l(){e&&(a.disconnect(),e=!1)}n.matches&&i(),n.addEventListener("change",c=>{c.matches?i():(l(),t.removeAttribute("data-is-sticky"))})}const I=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"})),y=Object.assign({"./js/cards/embed.js":v,"./js/cards/gallery.js":S,"./js/cards/toggle.js":k,"./js/components/pagination-load-more.js":x,"./js/components/sharing-buttons.js":q,"./js/components/site-actions.js":T,"./js/components/site-header.js":I});for(const t in y)y[t].default();document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{const t=window.innerWidth-document.body.offsetWidth;document.documentElement.setAttribute("data-dom-content-loaded",!0),document.documentElement.style.setProperty("--kutak--scrollbar-width",`${t}px`)},10)});const z=new window.MutationObserver(t=>{const n=window.getComputedStyle(document.body);document.documentElement.toggleAttribute("data-scroll-disabled",n.overflow==="hidden")});z.observe(document.body,{attributes:!0});